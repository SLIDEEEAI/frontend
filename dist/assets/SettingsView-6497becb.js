import{d as y,u as h,q,c as w,k as g,e as o,f as i,g as s,t as S,j as x,l,s as C,v as P,x as N,y as T,_ as v,w as d,n as p,h as b,p as f}from"./index-0c1004f1.js";const k=a=>(N("data-v-684c9f35"),a=a(),T(),a),U={class:"settings-tab profile-tab"},B={class:"settings-tab__block w-100"},I=k(()=>s("h3",null,"Авторизация",-1)),R={class:"user-email"},L={class:"user-password-block"},j=k(()=>s("button",{class:"remove-profile-btn"},"Удалить мой аккаунт",-1)),z=y({__name:"ProfileTab",setup(a){const{logout:e}=h(),{showNotification:n}=q(),t=w(""),r=w("");function $(){if(t.value.length&&r.value.length){if(t.value!=r.value){const u=C(t.value,r.value);u?(n("Пароль изменён"),P.push({name:"login"})):n("Что-то не так! Проверьте поля"),console.log(u);return}n("Старый и новый пароли совпадают");return}n("Заполните поля")}const V=async()=>{e(),n("Вы вышли из аккаунта")};return(u,c)=>{const m=g("ui-input-text");return o(),i("div",U,[s("div",B,[I,s("span",R,S(x(h)().currentUser.email),1),s("div",L,[l(m,{style:{"border-radius":"var(--radius-sm)"},label:"Cтарый пароль",placeholder:"Введите пароль",type:"password",name:"user-old-pass",id:"user-old-pass",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=_=>t.value=_)},null,8,["modelValue"]),l(m,{style:{"border-radius":"var(--radius-sm)"},label:"Новый пароль",placeholder:"Введите пароль",type:"password",name:"user-new-pass",id:"user-new-pass",modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=_=>r.value=_)},null,8,["modelValue"])]),s("button",{class:"save-new-password",onClick:$},"Сохранить")]),s("div",{class:"bottom-btns"},[s("button",{class:"logout-btn",onClick:V},"Выйти из аккаунта"),j])])}}});const D=v(z,[["__scopeId","data-v-684c9f35"]]),E={};function A(a,e){return o(),i("h1",null,"Подписка")}const F=v(E,[["render",A]]),G={};function H(a,e){return o(),i("h1",null,"Реферальная программа")}const J=v(G,[["render",H]]),K={class:"settings-view"},M={class:"settings-view__wrap"},O={class:"settings-top-panel"},W=y({__name:"SettingsView",setup(a){return(e,n)=>{const t=g("RouterLink");return o(),i("div",K,[s("div",M,[s("nav",O,[l(t,{to:{query:{tab:"profile"}},class:p({active:e.$route.query.tab=="profile"||!e.$route.query.tab}),"active-class":"settings-tab-link"},{default:d(()=>[f("Настройки аккаунта")]),_:1},8,["class"]),l(t,{to:{query:{tab:"subscribtion"}},class:p({active:e.$route.query.tab=="subscribtion"}),"active-class":"settings-tab-link"},{default:d(()=>[f("Подписка")]),_:1},8,["class"]),l(t,{to:{query:{tab:"ref"}},class:p({active:e.$route.query.tab=="ref"}),"active-class":"settings-tab-link"},{default:d(()=>[f("Реферальная программа")]),_:1},8,["class"])]),e.$route.query.tab=="subscribtion"?(o(),b(F,{key:0})):e.$route.query.tab=="ref"?(o(),b(J,{key:1})):(o(),b(D,{key:2}))])])}}});export{W as default};
